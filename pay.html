<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo Store</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header>
    <div class="title">
      <a class="logo" href="/index.html">
        <img src="/logo.svg" alt="">
      </a>
    </div>
  </header>
  <main>
    <div class="pay-title">Payment Details</div>
    <div class="hpp"></div>
    <footer>
      <div class="account-info">BB1 Demo Account - 64903 - e3547b6a-a1bc-133d-e055-00d21d3819da</div>
      <img src="/footer.png" alt="">
    </footer>
  </main>

  <script>
    const script = document.createElement('script');

    script.src = `https://cdn.aws.billingplatform.com/hosted-payments-ui@${location.search.split('=')[1] || 1}/lib.js`;
    document.body.append(script);

    script.onload = function () {
      HostedPayments.renderPaymentForm(
        {
          targetSelector: '.hpp',
          amount: 3750,
          maxAmount: 10000,
          environmentId: '481337c5-9a6a-457d-b6a5-7ac94517c4e5',
          billingProfileId: 'e3547b6a-a1bc-133d-e055-00d21d3819da',
          maxContainerWidth: '630px',
          containerWidth: '630px',
          paymentGateways: ['Adyen_CC', 'Adyen_DD'],
          customCssVariables: {
            '--pui-button-enabled': '#00756a',
            '--pui-button-enabled-hover': '#00756a',
            '--pui-button-enabled-active': '#00756a',
            '--pui-initial-loader-spinner-color': '#00756a',
            '--pui-checkbox-background-color': '#00756a',
            '--pui-selected-input-border': '#00756a',
            '--pui-selected-item-border': '#00756a',
          },
          hideTitle: true,
          apiUrl: 'https://sandbox.billingplatform.com/pdm_dev/hostedPayments/1.0',
        },
        {
          successCapture: () => { window.location = 'https://konstantinbel.github.io/success.html'; }
        }
      )
    };
  </script>
</body>
</html>
