<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo Store</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header>
    <div class="title">
      <a class="logo" href="/index.html">
        <img src="/logo.png" alt="">
      </a>
    </div>
  </header>
  <main>
    <div class="pay-title">Payment Details</div>
    <div class="hpp"></div>
    <footer>
      <div class="account-info">BB1 Demo Account - 64903 - e3547b6a-a1bc-133d-e055-00d21d3819da</div>
      <img src="/footer.png" alt="">
    </footer>
  </main>

  <script>
    const script = document.createElement('script');

    script.src = `https://cdn.aws.billingplatform.com/hosted-payments-ui@${location.search.split('=')[1] || '1.9.0'}/lib.js`;
    document.body.append(script);

    script.onload = function () {
      HostedPayments.renderPaymentForm(
        {
          targetSelector: '.hpp',
          amount: 3750,
          maxAmount: 10000,
          environmentId: '379d372b-8406-4599-8f74-bc283342c5a5',
          billingProfileId: 'e528c82a-1774-4e0e-b679-3a3fe219009f',
          maxContainerWidth: '630px',
          containerWidth: '630px',
          paymentGateways: { creditCard: { gateway: 'StaxPayments_CC' }, directDebit: { gateway: 'StaxPayments_DD' } },
          customCssVariables: {
            '--pui-button-enabled': '#15b7ed',
            '--pui-button-enabled-hover': '#15b7ed',
            '--pui-button-enabled-active': '#15b7ed',
            '--pui-initial-loader-spinner-color': '#15b7ed',
            '--pui-checkbox-background-color': '#15b7ed',
            '--pui-selected-input-border': '#15b7ed',
            '--pui-selected-item-border': '#15b7ed',
          },
          hideTitle: true,
          apiUrl: 'https://my.billingplatform.com/standard_demo/hostedPayments/1.0',
        },
        {
          successCapture: () => { window.location = 'https://konstantinbel.github.io/success.html'; }
        }
      )
    };
  </script>
</body>
</html>
